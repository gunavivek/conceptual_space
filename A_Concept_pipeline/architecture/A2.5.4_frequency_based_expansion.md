# A2.5.4: Frequency-Based Expansion Strategy - Architecture Design

## Name
**A2.5.4: Frequency-Based Expansion Strategy**

## Purpose
Expands concepts using term frequency analysis and statistical co-occurrence patterns to identify semantically related terms through quantitative text analysis and information retrieval techniques.

## Input File
- **Primary**: `outputs/A2.4_core_concepts.json`
- **Contains**: Core concepts with primary keywords and document associations

## Output Files
- **Primary**: `outputs/A2.5.4_frequency_expansion.json`
- **Contains**: Frequency-based expansions with TF-IDF scores, co-occurrence statistics, and term quality metrics

## Processing Logic

### Statistical Analysis Framework
- Calculates **term frequency (TF)** across entire concept collection for vocabulary analysis
- Computes **document frequency (DF)** measuring term distribution across concept instances
- Generates **inverse document frequency (IDF)** using logarithmic scaling for term importance weighting
- Produces **TF-IDF scores** combining frequency and rarity for term significance assessment

### High-Frequency Term Identification
- Determines **frequency thresholds** using 75th percentile of TF-IDF distribution
- Identifies **high-value terms** exceeding TF-IDF threshold while maintaining moderate prevalence (10-80% range)
- Filters **over-common terms** (>80% prevalence) and **too-rare terms** (<10% prevalence)
- Ranks **expansion candidates** by TF-IDF scores for quality-based selection

### Co-occurrence Pattern Analysis
- Identifies **relevant documents** containing target concept keywords for co-occurrence analysis
- Counts **term co-occurrence frequencies** within concept-relevant document contexts
- Calculates **co-occurrence strength** as normalized frequency across relevant document set
- Filters **minimum co-occurrence threshold** (default 2 occurrences) for statistical significance

### Quality-Based Term Integration
- Combines **high-frequency terms** and **co-occurrence terms** into unified expansion vocabulary
- Calculates **expansion quality metrics** including average TF-IDF scores and co-occurrence strengths
- Measures **expansion ratios** comparing expanded vocabulary size to original concept vocabulary
- Generates **term provenance tracking** distinguishing frequency-based from co-occurrence-based additions

## Key Decisions

### Frequency Threshold Selection
- **Decision**: Use 75th percentile TF-IDF threshold for high-frequency term identification
- **Rationale**: Balances term significance with expansion breadth by focusing on top quartile terms
- **Impact**: Ensures quality expansion terms while maintaining reasonable vocabulary growth

### Prevalence Range Filtering
- **Decision**: Limit expansion terms to 10-80% prevalence range across concept collection
- **Rationale**: Excludes both too-rare terms (poor generalization) and too-common terms (low discrimination)
- **Impact**: Maintains expansion term quality but may miss important rare or universal terms

### Co-occurrence Context Definition
- **Decision**: Use concept-relevant documents as co-occurrence context rather than entire corpus
- **Rationale**: Focuses co-occurrence analysis on semantically relevant contexts for target concepts
- **Impact**: Improves co-occurrence term relevance but reduces statistical sample size

### Minimum Co-occurrence Threshold
- **Decision**: Require minimum 2 co-occurrences for term inclusion
- **Rationale**: Ensures statistical significance while avoiding arbitrary high thresholds
- **Impact**: Filters noise terms but may exclude valid low-frequency associations

### Term Integration Strategy
- **Decision**: Combine frequency-based and co-occurrence-based terms without weighting
- **Rationale**: Treats both sources as equally valid for concept expansion
- **Impact**: Maximizes vocabulary diversity but may dilute term quality differences

### Expansion Limit Policy
- **Decision**: Apply separate limits for frequency terms (10) and co-occurrence terms (8)
- **Rationale**: Controls vocabulary explosion while maintaining balanced contribution from both sources
- **Impact**: Ensures manageable expansion size but may truncate valuable long-tail terms