# A2.3: Concept Grouping Thematic - Architecture Design

## Name
**A2.3: Concept Grouping Thematic**

## Purpose
Groups related concepts thematically using clustering and semantic analysis to organize document concepts into coherent thematic clusters for better concept understanding and retrieval.

## Input File
- **Primary**: `outputs/A2.2_keyword_extractions.json`
- **Contains**: Document-level keyword extractions with TF-IDF scores and domain classifications

## Output Files
- **Primary**: `outputs/A2.3_concept_grouping_thematic.json`
- **Secondary**: `outputs/A2.3_statistics.json`
- **Contains**: Thematic groups with representative keywords, domain mappings, and clustering statistics

## Processing Logic

### Core Clustering Algorithm
- Uses **Jaccard similarity** to measure concept relatedness between document keyword sets
- Implements **agglomerative clustering** with similarity threshold of 0.3 for grouping
- Creates thematic clusters by iteratively merging similar concepts until no more valid merges remain

### Domain-Aware Grouping
- Identifies **dominant domain** for each thematic group based on majority voting from constituent documents
- Groups concepts within domain boundaries while allowing cross-domain connections
- Maintains **domain-specific theme collections** for specialized retrieval

### Theme Name Generation
- Automatically generates **descriptive theme names** using top 2-3 representative keywords
- Applies title case formatting for consistency
- Falls back to generic naming when insufficient keywords available

### Statistical Analysis
- Calculates **average documents per theme** for cluster size optimization
- Tracks **themes by domain distribution** for domain coverage analysis
- Generates **representative keyword rankings** based on frequency within each theme

## Key Decisions

### Similarity Metric Choice
- **Decision**: Use Jaccard similarity over cosine similarity
- **Rationale**: Better handles sparse keyword sets and provides interpretable overlap ratios
- **Impact**: More robust clustering for documents with varying keyword densities

### Threshold Selection
- **Decision**: Set clustering threshold at 0.3
- **Rationale**: Balances cluster cohesion with appropriate granularity based on keyword overlap
- **Impact**: Prevents over-clustering while maintaining meaningful thematic separation

### Domain Integration
- **Decision**: Incorporate domain information as clustering constraint
- **Rationale**: Preserves domain-specific concept relationships while enabling cross-domain discovery
- **Impact**: Improves concept organization for domain-specific retrieval scenarios

### Representative Keyword Limit
- **Decision**: Limit to top 10 representative keywords per theme
- **Rationale**: Maintains theme interpretability while capturing essential concept vocabulary
- **Impact**: Ensures downstream processing efficiency without information loss

### Processing Order
- **Decision**: Process all concepts simultaneously rather than incrementally
- **Rationale**: Enables global optimization of cluster assignments and theme coherence
- **Impact**: Better overall clustering quality at cost of processing time for large datasets