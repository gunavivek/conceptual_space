# A2.4: Synthesize Core Concepts - Architecture Design

## Name
**A2.4: Synthesize Core Concepts**

## Purpose
Identifies and synthesizes the most important core concepts from thematic groups using importance scoring and hierarchical organization to create a curated set of high-value concepts for downstream processing.

## Input File
- **Primary**: `outputs/A2.3_concept_grouping_thematic.json`
- **Contains**: Thematic groups with representative keywords, domain classifications, and document associations

## Output Files
- **Primary**: `outputs/A2.4_core_concepts.json`
- **Secondary**: `outputs/A2.4_domain_mappings.json`
- **Tertiary**: `outputs/A2.4_statistics.json`
- **Contains**: Ranked core concepts with importance scores, hierarchical organization, and concept-document mappings

## Processing Logic

### Importance Score Calculation
- Combines **document coverage ratio** (40% weight) measuring concept breadth across document collection
- Incorporates **keyword strength metric** (40% weight) based on normalized frequency scores within concept groups
- Applies **representative keyword diversity bonus** (20% weight) rewarding concepts with rich vocabulary
- Includes **domain specialization bonus** (1.2x multiplier) for non-general domain concepts

### Core Concept Selection
- Ranks all thematic groups by calculated importance scores
- Selects **top-k concepts** (default 10) as core concept set
- Ensures **domain representation balance** by including concepts from multiple domains
- Maintains **coverage optimization** to maximize document collection representation

### Hierarchical Organization
- Groups core concepts by **domain classification** creating domain-level hierarchies
- Calculates **domain-level statistics** including total importance and document coverage
- Establishes **concept relationships** through shared document associations
- Creates **cross-domain connection mappings** for concept network analysis

### Mapping Generation
- Builds **concept-to-documents mapping** for efficient concept-based document retrieval
- Constructs **document-to-concepts mapping** enabling multi-concept document analysis
- Maintains **bidirectional relationship indices** for fast lookup operations

## Key Decisions

### Importance Weighting Schema
- **Decision**: Weight document coverage (40%) and keyword strength (40%) equally with diversity bonus (20%)
- **Rationale**: Balances concept breadth with semantic richness while rewarding vocabulary diversity
- **Impact**: Prioritizes concepts that are both widely applicable and semantically rich

### Domain Bonus Application
- **Decision**: Apply 1.2x multiplier for domain-specific concepts over general concepts
- **Rationale**: Domain-specific concepts typically provide more precise semantic guidance than general terms
- **Impact**: Ensures specialized knowledge domains are well-represented in core concept set

### Core Concept Limit
- **Decision**: Default to top 10 core concepts with configurable limit
- **Rationale**: Maintains manageable concept set size while capturing primary document themes
- **Impact**: Optimizes downstream processing efficiency without sacrificing concept coverage

### Hierarchical Structure Choice
- **Decision**: Use domain-based hierarchy as primary organizational structure
- **Rationale**: Domain boundaries provide natural concept organization aligned with knowledge structures
- **Impact**: Enables domain-aware retrieval and concept navigation patterns

### Mapping Completeness
- **Decision**: Generate bidirectional mappings between concepts and documents
- **Rationale**: Supports both concept-driven and document-driven retrieval scenarios
- **Impact**: Maximizes flexibility for downstream applications at cost of storage overhead

### Coverage Optimization
- **Decision**: Optimize for maximum document collection coverage rather than concept precision
- **Rationale**: Ensures core concept set represents entire document collection effectively
- **Impact**: May include broader concepts over highly specialized ones for better overall coverage