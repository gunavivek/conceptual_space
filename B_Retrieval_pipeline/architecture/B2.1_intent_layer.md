# B2.1: Intent Layer - Architecture Design

## Name
**B2.1: Intent Layer**

## Purpose
Analyzes question intent and extracts semantic features to understand question purpose, domain context, and expected response characteristics for optimized concept matching and answer generation.

## Input File
- **Primary**: `outputs/B1_current_question.json`
- **Contains**: Structured question data with metadata and processing context

## Output Files
- **Primary**: `outputs/B2_1_intent_layer_output.json`
- **Contains**: Comprehensive intent analysis with question classification, keyword extraction, and domain identification

## Processing Logic

### Intent Classification Framework
- Implements **question type detection** using linguistic pattern analysis for factual, analytical, and comparative questions
- Applies **interrogative word analysis** identifying question starters (what, how, when, where, why) for intent categorization
- Performs **complexity assessment** measuring question depth and expected answer sophistication
- Generates **intent confidence scoring** reflecting classification certainty and pattern strength

### Keyword Extraction and Analysis
- Executes **content keyword identification** extracting domain-relevant terms from question text
- Applies **stop word filtering** with question-specific stop word management
- Implements **term importance weighting** using frequency and positional analysis
- Performs **keyword categorization** grouping terms by semantic role (subjects, actions, modifiers)

### Domain Context Detection
- Analyzes **domain-specific terminology** using curated vocabulary dictionaries for specialized fields
- Calculates **domain probability scores** across finance, healthcare, technology, and general domains
- Applies **contextual domain inference** considering question structure and terminology patterns
- Generates **domain confidence assessment** measuring classification certainty

### Semantic Feature Extraction
- Identifies **temporal indicators** including time references, date patterns, and period specifications
- Detects **quantitative elements** such as numerical expressions, measurement units, and comparative terms
- Recognizes **entity mentions** including proper nouns, organizations, and specialized concepts
- Extracts **relationship indicators** showing connections between question components

## Key Decisions

### Intent Classification Approach
- **Decision**: Use pattern-based intent classification rather than machine learning classification
- **Rationale**: Provides interpretable and maintainable intent detection with domain-specific customization
- **Impact**: Ensures reliable intent identification but may miss subtle intent variations

### Keyword Extraction Strategy
- **Decision**: Combine frequency analysis with positional weighting rather than using pure TF-IDF
- **Rationale**: Questions are short texts where position and context matter more than corpus statistics
- **Impact**: Improves keyword relevance for questions but may not scale to longer text analysis

### Domain Detection Methodology
- **Decision**: Use vocabulary-based domain detection with confidence scoring rather than binary classification
- **Rationale**: Enables nuanced domain understanding and multi-domain question handling
- **Impact**: Provides sophisticated domain analysis but requires comprehensive vocabulary maintenance

### Complexity Assessment Scope
- **Decision**: Assess complexity across multiple dimensions (linguistic, semantic, domain) rather than single metric
- **Rationale**: Captures different aspects of question difficulty for appropriate processing path selection
- **Impact**: Provides comprehensive complexity understanding but increases analysis complexity

### Confidence Scoring Framework
- **Decision**: Generate confidence scores for all analysis components rather than binary classifications
- **Rationale**: Enables downstream processing to weigh analysis reliability in decision making
- **Impact**: Provides nuanced analysis reliability but requires confidence threshold management

### Feature Integration Strategy
- **Decision**: Maintain separate feature categories (temporal, quantitative, entity) rather than unified feature space
- **Rationale**: Preserves feature type semantics for specialized downstream processing
- **Impact**: Enables targeted feature utilization but increases output structure complexity